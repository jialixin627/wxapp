{% extends 'base.html' %}
{% load static %}

{% block title %}
  <div class="row center">
    <div class="col-md-10 col-md-offset-1">
      <h2>投票统计</h2>
    </div>
  </div>
{% endblock %}

{% block content %}
<!-- <div class="row center">
    <div class="col-md-10 col-md-offset-1">
        <h3>{{ subject.question }}</h3>
        <h4>总票数：{{ subject.total_votes }}</h4>
    </div>
</div> -->

<div class="row center table-body">
  <div class="col-md-6 col-md-offset-3">
    <div class="panel panel-default">
      <!-- Default panel contents -->
      <div class="panel-heading"><h4>{{ subject.question }}</h4></div>
      <div class="panel-body">
        <h5>总票数：{{ subject.total_votes }}</h5>
      </div>
      <table class="table table-bordered">
          <thead>
              <th width="33%">选项</th>
              <th width="33%">票数</th>
              <th width="33%">占比</th>
          </thead>

           <tbody>
              {% for choice in choices %}
               <tr>
                   <td>{{ choice.choice_text }}</td>
                   <td>{{ choice.votes }}</td>
                   <td>{% widthratio choice.votes subject.total_votes 100 %} %</td>
               </tr>
           </tbody>

      {% endfor %}
      </table>
    </div>
  </div>
</div>

{% endblock %}

{% block script%}
<style type="text/css">
    .table-body {
        padding-top: 15px;
    }
    th {
        text-align: center;
    }
    .panel-body {
        padding: 2px;
        background-color: #f0f0f0;
    }
    .panel-default>.panel-heading {
        color: #333;
        background-color: #9e9e9e;
        border-color: #9e9e9e;
    }
</style>

{% endblock %}